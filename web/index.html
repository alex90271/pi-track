<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Pi-Track - Real-time network traffic analyzer and monitor">
    <title>Pi-Track | Network Monitor</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <div class="logo">
                    <span class="logo-icon">üì°</span>
                    <span class="logo-text">Pi-Track</span>
                </div>
                <div class="connection-status" id="connection-status">
                    <span class="status-dot"></span>
                    <span class="status-text">Connecting...</span>
                </div>
            </div>
            <div class="header-right">
                <div class="db-status" id="db-status" title="Database Status">
                    <span class="db-icon">üíæ</span>
                    <span class="db-text" id="db-text">-</span>
                </div>
                <div class="interface-info">
                    <span class="label">Interface:</span>
                    <span class="value" id="current-interface">-</span>
                </div>
                <div class="uptime-info">
                    <span class="label">Uptime:</span>
                    <span class="value" id="uptime">00:00:00</span>
                </div>
            </div>
        </header>

        <!-- Stats Bar -->
        <div class="stats-bar">
            <div class="stat-card">
                <div class="stat-icon">üì¶</div>
                <div class="stat-content">
                    <div class="stat-value" id="total-packets">0</div>
                    <div class="stat-label">Total Packets</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üìä</div>
                <div class="stat-content">
                    <div class="stat-value" id="total-bytes">0 B</div>
                    <div class="stat-label">Total Data</div>
                </div>
            </div>
            <div class="stat-card highlight">
                <div class="stat-icon">‚ö°</div>
                <div class="stat-content">
                    <div class="stat-value" id="packets-per-sec">0</div>
                    <div class="stat-label">Packets/sec</div>
                </div>
            </div>
            <div class="stat-card highlight">
                <div class="stat-icon">üöÄ</div>
                <div class="stat-content">
                    <div class="stat-value" id="bytes-per-sec">0 B/s</div>
                    <div class="stat-label">Throughput</div>
                </div>
            </div>
            <div class="stat-card db-card" id="db-card">
                <div class="stat-icon">üíæ</div>
                <div class="stat-content">
                    <div class="stat-value" id="db-packets">-</div>
                    <div class="stat-label">Stored</div>
                </div>
            </div>
        </div>

        <!-- Info Cards Grid (Protocols + Talkers + Apps) -->
        <div class="info-cards">
            <div class="card protocols-card">
                <div class="card-header">
                    <h4>üîå Protocols</h4>
                </div>
                <div class="card-content">
                    <div class="protocol-circles" id="protocol-circles"></div>
                </div>
            </div>
            <div class="card talkers-card">
                <div class="card-header">
                    <h4>üèÜ Top Talkers</h4>
                </div>
                <div class="card-content scrollable">
                    <div class="talker-list" id="talker-list"></div>
                </div>
            </div>
            <div class="card apps-card">
                <div class="card-header">
                    <h4>üì± Applications</h4>
                </div>
                <div class="card-content scrollable">
                    <div class="app-list" id="app-list"></div>
                </div>
            </div>
        </div>

        <!-- Tabs Navigation -->
        <div class="tabs">
            <button class="tab-btn active" data-tab="live">Live Packets</button>
            <button class="tab-btn" data-tab="connections">Connections</button>
            <button class="tab-btn" data-tab="history">History</button>
        </div>

        <!-- Tab Content Area -->
        <div class="tab-content-area">
            <!-- Live Packets Tab -->
            <div class="tab-pane active" id="tab-live">
                <div class="panel packets-panel">
                    <div class="panel-header">
                        <h2>üìã Live Packets</h2>
                        <div class="panel-controls">
                            <select id="time-window" class="time-select">
                                <option value="1">Last 1 min</option>
                                <option value="5">Last 5 min</option>
                                <option value="10" selected>Last 10 min</option>
                                <option value="30">Last 30 min</option>
                                <option value="0">All</option>
                            </select>
                            <input type="text" class="filter-input" id="packet-filter" placeholder="Filter...">
                            <button class="btn btn-icon" id="pause-btn" title="Pause">‚è∏Ô∏è</button>
                            <button class="btn btn-icon" id="clear-btn" title="Clear">üóëÔ∏è</button>
                        </div>
                    </div>
                    <div class="packet-table-container">
                        <table class="packet-table">
                            <thead>
                                <tr>
                                    <th>Time</th>
                                    <th>Source</th>
                                    <th>Destination</th>
                                    <th>Protocol</th>
                                    <th>Len</th>
                                    <th>Info</th>
                                </tr>
                            </thead>
                            <tbody id="packet-table-body">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Connections Tab -->
            <div class="tab-pane" id="tab-connections">
                <div class="panel connections-panel">
                    <div class="panel-header">
                        <h2>üîó Active Connections</h2>
                    </div>
                    <div class="connections-table-container">
                        <table class="connections-table">
                            <thead>
                                <tr>
                                    <th>Source</th>
                                    <th>Destination</th>
                                    <th>Protocol</th>
                                    <th>Packets</th>
                                    <th>Bytes</th>
                                    <th>Duration</th>
                                </tr>
                            </thead>
                            <tbody id="connections-table-body">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- History Tab -->
            <div class="tab-pane" id="tab-history">
                <div class="panel history-panel">
                    <div class="panel-header">
                        <h2>üìö Packet History</h2>
                    </div>
                    <div class="history-controls">
                        <div class="quick-filters">
                            <button class="btn quick-filter-btn" data-days="1">Last Day</button>
                            <button class="btn quick-filter-btn" data-days="7">Last Week</button>
                            <button class="btn quick-filter-btn" data-days="30">Last Month</button>
                        </div>
                        <input type="text" class="filter-input" id="history-filter" placeholder="Search...">
                        <input type="text" class="filter-input exclude-input" id="history-exclude"
                            placeholder="Exclude IPs (comma-sep)" title="Comma-separated list of IPs to exclude">
                        <input type="datetime-local" class="date-input" id="history-start">
                        <input type="datetime-local" class="date-input" id="history-end">
                        <button class="btn" id="history-search-btn">üîç Search</button>
                        <span class="history-info" id="history-info"></span>
                    </div>
                    <div class="history-table-container">
                        <table class="packet-table">
                            <thead>
                                <tr>
                                    <th>Time</th>
                                    <th>Source</th>
                                    <th>Destination</th>
                                    <th>Protocol</th>
                                    <th>Len</th>
                                    <th>Info</th>
                                </tr>
                            </thead>
                            <tbody id="history-table-body">
                            </tbody>
                        </table>
                    </div>
                    <div class="pagination" id="history-pagination">
                        <button class="btn" id="history-prev" disabled>‚Üê Prev</button>
                        <span class="page-info" id="history-page-info">Page 1</span>
                        <button class="btn" id="history-next">Next ‚Üí</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>